# 基于栅格地图的蚁群算法python代码实现

### 蚁群算法简介

受自然界蚂蚁启发，蚂蚁对行走过的路径会留下信息素，不同蚂蚁之间移动仅通过信息素进行交流，蚂蚁们往往会选择信息素残留较多的路径，而残留较多的路径正是蚂蚁大量经过的，也往往较短的路径能残留下更多的信息素（可假想一只蚂蚁的信息素分泌量一定，在更短的路径信息素更浓。或假想每时刻分泌定量的信息素，而更短路径可以行走的次数更多），如此正反馈实现最短路径的搜索。

**总结：**

1. 路径概率选择机制信息素踪迹越浓的路径,被选中的概率越大

2. 信息素更新机制路径越短,路径上的信息素踪迹增长得越快

3. 协同工作机制蚂蚁个体通过信息素进行信息交流。

   参考：https://blog.csdn.net/qq_41640218/article/details/123470361

蚁群算法多用于解决TSP旅行商问题。

具体算法涉及的原理公式（选用蚁周模型）

​		参考：https://blog.csdn.net/m0_46435566/article/details/124567110

​        参考：https://blog.csdn.net/weixin_42301220/article/details/125129090

### 栅格地图简介

利用栅格离散化地图数据，栅格越小精度越高，可用矩阵表示，0为可通行，1为障碍。

共有直角坐标法和序号法两种表示方法，二者可相互转换。

**生成障碍物思路：**首先选取一定区域用于生成较为连续的障碍物（如在4x4的范围内生成6~16个障碍物），下文把该区域称之为障碍核。接下来用序号法表示栅格地图，为防止出现随机数重复的情况，将序号地图进行shuffle，选取前几个序号作为生成障碍核的左上角坐标（注意：此时shuffle的地图应为原地图长宽减去障碍核长宽的地图，并去除起点和终点位置的序号）。

经实践，该方法生成的障碍物在地图较为紧凑时容易出现障碍物重叠的情况，可通过分散生成序号地图的序号进行解决。

### 蚂蚁行动与边界限制

本代码蚂蚁仅能进行上下左右四个方向移动，边界的限制通过条件判断实现，为减少编程复杂度，可将障碍物处初始信息素设为零，带入概率计算相乘即可实现障碍物判断。

### 代码环境依赖

`numpy`、`matplotlib`、`pyyaml`。

### 使用说明

修改`myArgs.yaml`中参数进行调参，`res`文件夹中保存运行结果。运行

`python AntColony.py`

调参参考：https://blog.csdn.net/qq_38107043/article/details/114109808

### 优化方向

1. 蚂蚁行动模式改为八方向
2. 障碍物生成为凸多边形，防止死锁
3. 设置禁忌列表，将多次走过的路段设为障碍物，加入该列表，使模型更快收敛
4. 每个蚁周设置一定的完成率即可跳出，减少计算复杂度，防止部分蚂蚁死锁程序无法运行
5. 每只蚂蚁相对独立，且在一个蚁周内使用相同的信息素交流，可使用多线程加快运算速度



### 注意

此代码仅供学习交流使用，不得用于商业用途